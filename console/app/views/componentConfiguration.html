<div data-ng-include="'/components/overlay.html'" data-ng-show="loading"></div>
<div class="formMessage" data-ng-include="'/components/messageContainer.html'"></div>
<div class="accordian collapsed" id="component{{component.componentId}}" data-ng-repeat="component in componentList">
  <form class="formbox" name="form" autocomplete="off" novalidate data-ng-submit="onSubmit(this)">
    <h3 class="accordian_heading" data-ng-click="changeFormName($event)">
     <span>{{component.name}}</span>
     <span class="accordian_icon"><i class="icons8-Expand-Arrow"></i></span>
     </h3>
     <div class="entry">
      <div class="content">
        <div data-ng-repeat="env in component.envSettings">
          <h4>{{env.type}}</h4>
          <div class="form-group form-fill" data-ng-class="{'error': form[env.name + '_url'].$invalid && (form.$submitted || form[env.name + '_url'].$touched)}">
            <div class="col-sm-3">
              <label class="form-label">URL</label>
              <input type="text" data-ng-pattern="/^((http://)|(https://))(\w+)/" data-ng-model="env.url" class="inputfield input-orange inputanimate" name="{{env.name}}_url" required>
              <div class="errorContainer" data-ng-if="form[env.name + '_url'].$invalid">
                <div class="errorText" data-ng-if="form[env.name + '_url'].$error.required">URL is mandatory field</div>
                <div class="errorText" data-ng-if="form[env.name + '_url'].$error.pattern">URL should start with http:// or https://</div>
              </div>
            </div>
            <div class="clear"></div>
          </div>
          <div class="form-group form-fill" data-ng-class="{'error': form[env.name + '_path'].$invalid && (form.$submitted || form[env.name + '_path'].$touched)}">
            <div class="col-sm-3">
              <label class="form-label">Path</label>
              <input type="text" data-ng-pattern="/^((\/[a-zA-Z0-9\_\-]+)+(\?(\S+\=\S+)+)?)$/" data-ng-model="env.path" class="inputfield input-orange inputanimate" name="{{env.name}}_path" required>
              <div class="errorContainer" data-ng-if="form[env.name + '_path'].$invalid">
                <div class="errorText" data-ng-if="form[env.name + '_path'].$error.required">Path is mandatory field</div>
                <div class="errorText" data-ng-if="form[env.name + '_path'].$error.pattern">Invalid format for Path</div>
              </div>
            </div>
            <div class="clear"></div>
          </div>
          <div class="form-group form-fill" data-ng-class="{'error': form[env.name + '_email'].$invalid && (form.$submitted || form[env.name + '_email'].$touched)}">
            <div class="col-sm-3">
              <label class="form-label">Contact Email</label>
              <input type="text" data-ng-pattern="/^[a-z0-9\.]+@[a-z0-9.]+$/" data-ng-model="env.email" class="inputfield input-orange inputanimate" name="{{env.name}}_email" required>
              <div class="errorContainer" data-ng-if="form[env.name + '_email'].$invalid">
                <div class="errorText" data-ng-if="form[env.name + '_email'].$error.required">Contact Email is mandatory field</div>
                <div class="errorText" data-ng-if="form[env.name + '_email'].$error.pattern">Invalid format for email</div>
              </div>
            </div>
            <div class="clear"></div>
          </div>
          <div class="form-group form-fill" data-ng-class="{'error': form[env.name + '_phone'].$invalid && (form.$submitted || form[env.name + '_phone'].$touched)}">
            <div class="col-sm-3">
              <label class="form-label">Contact Number</label>
              <input type="number" data-ng-pattern="/^[0-9]{10}$/" data-ng-model="env.phone" class="inputfield input-orange inputanimate" name="{{env.name}}_phone" required>
              <div class="errorContainer" data-ng-if="form[env.name + '_phone'].$invalid">
                <div class="errorText" data-ng-if="form[env.name + '_phone'].$error.required">Contact Number is mandatory field</div>
                <div class="errorText" data-ng-if="form[env.name + '_phone'].$error.pattern">Contact Number should be of 10 digits</div>
              </div>
            </div>
            <div class="clear"></div>
          </div>
        </div>
        <div class="clear"></div>
        <div class="center">
          <input class="btn" type="submit" value="Save"/>
        </div>
        <div class="clear"></div>
      </div>
      <div class="clear"></div>
    </div>
  </form>
  <div class="clear"></div>
</div>